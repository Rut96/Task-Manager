"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.errorExtractor = void 0;
class ErrorExtractor {
    getMessage(err, defaultMessage = "An error occurred, please try again.") {
        if (this.isStr(err))
            return err;
        if (this.isStr(err?.response?.data?.message))
            return err.response.data.message;
        if (this.isStr(err?.response?.data?.error?.message))
            return err.response.data.error.message;
        if (this.isStr(err?.response?.data?.error?.code))
            return err.response.data.error.code;
        if (this.isStr(err?.response?.data?.error))
            return err.response.data.error;
        if (this.isStr(err?.response?.data))
            return err.response.data;
        if (this.isStr(err?.message))
            return err.message;
        if (this.isStr(err?.error?.message))
            return err.error.message;
        if (this.isStr(err?.error?.code))
            return err.error.code;
        if (this.isStr(err?.error))
            return err.error;
        return defaultMessage;
    }
    isStr(value) {
        return typeof value === "string" && value !== "";
    }
}
exports.errorExtractor = new ErrorExtractor();
